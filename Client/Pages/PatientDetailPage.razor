@page "/patient-details/{PathParam}"

@inject NavigationManager NavigationManager


<PageTitle>Patient Detail Page</PageTitle>


<MudContainer Class="mt-8" MaxWidth="MaxWidth.Large">


    <MudItem>
        <MudText Typo="Typo.h4" class="mt-8" Align="Align.Center" GutterBottom="true">Patient Detailed Information</MudText>
        <MudPaper Width="100%">
            <MudList Class="mt-8 ml-4">
                <MudText><b>Name:</b>  @this.PathParam</MudText>
                <MudText><b>URN:</b> 0083524</MudText>
                <MudText><b>Date of birth:</b> 01-Jan-1980</MudText>
                <MudText><b>Presenting issue:</b> Nausea, dizziness</MudText>
            </MudList>
        </MudPaper>
    </MudItem>


    <MudText Typo="Typo.h4" class="mt-8" Align="Align.Center" GutterBottom="true">Comments</MudText>

    <MudSimpleTable Dense="@dense" Hover="@hover" Bordered="@bordered" Striped="@striped" Style="overflow-x: auto;">
        <thead style="background: #173274; color: white;">
            <tr>
                @foreach (var h in headings)
                {
                    <th>@h</th>
                }
            </tr>
        </thead>
        <tbody>
            @foreach (var row in rows)
            {
                <tr>
                    @foreach (var x in row.Split())
                    {
                        <td>@x</td>
                    }
                </tr>
            }
        </tbody>
    </MudSimpleTable>


    <MudTextField T="string" Label="Add a Comment" class="mt-8" Variant="Variant.Outlined" Text="@sampleText" Lines="8" />
    <MudItem Class="d-flex">
        <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" DisableElevation="true" Color="Color.Primary" Size="Size.Large" Class="mt-8">Add Comment</MudButton>
        <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" DisableElevation="true" Color="Color.Error" Size="Size.Large" Class="ml-8 mt-8" OnClick="NavigateToHomePage">Cancel</MudButton>

    </MudItem>

</MudContainer>



@code {

    [Parameter]
    public string? PathParam { get; set; }

    private bool dense = false;
    private bool hover = true;
    private bool striped = false;
    private bool bordered = true;
    string sampleText = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";

    string[] headings = { "Date", "Time", "Nurse", "Comment" };

    string[] rows = {
        @"02-Feb-2020 09:50 KellyA. Admitted",
        @"02-Feb-2020 09:50 KellyA. Admitted",
        @"02-Feb-2020 09:50 KellyA. Admitted",
        @"02-Feb-2020 09:50 KellyA. Admitted",
    };

    private void NavigateToHomePage()
    {
        NavigationManager.NavigateTo("/");
    }

}